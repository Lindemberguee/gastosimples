# ğŸ§¾ Gastos Simples â€“ Leitor de Notas com IA (Express + OpenAI)

Projeto simples e poderoso para **analisar automaticamente notas fiscais** usando a API da **OpenAI (GPT-4o-mini)**.  
Basta enviar uma imagem ou PDF de uma nota â†’ o sistema extrai:

- Estabelecimento  
- Data  
- Total  
- Forma de pagamento  
- Itens comprados (nome, quantidade, valor)  
- Categoria do gasto  
- Identificadores do recibo  

Ideal para controle financeiro pessoal, automaÃ§Ã£o de gastos, integraÃ§Ã£o com ERP, ou dashboards de consumo.

---

## ğŸš€ Tecnologias Utilizadas

- **Node.js**
- **Express.js** â€” servidor HTTP
- **Multer** â€” upload de arquivos
- **OpenAI API** â€” anÃ¡lise inteligente da nota
- **CORS / Dotenv**
- **JavaScript puro (sem TypeScript)**

---

## ğŸ“ Estrutura do Projeto

/gastos-simples
â”œâ”€â”€ src
â”‚ â”œâ”€â”€ index.js
â”‚ â”œâ”€â”€ routes
â”‚ â”‚ â”œâ”€â”€ health.js
â”‚ â”‚ â””â”€â”€ notas.js
â”‚ â””â”€â”€ services
â”‚ â””â”€â”€ openai.js
â”œâ”€â”€ .env
â”œâ”€â”€ package.json
â””â”€â”€ README.md

yaml
Copiar cÃ³digo

---

## âš™ï¸ InstalaÃ§Ã£o

1. Clone o repositÃ³rio:

```bash
git clone https://github.com/Lindemberguee/gastosimples
Entre na pasta:

bash
Copiar cÃ³digo
cd gastos-simples
Instale dependÃªncias:

bash
Copiar cÃ³digo
npm install
Crie o arquivo .env:

env
Copiar cÃ³digo
OPENAI_API_KEY=sua_chave_aqui
Dica: modelos com visÃ£o sÃ³ funcionam se sua conta OpenAI tiver crÃ©ditos ativos.

â–¶ï¸ Como Executar
Rodar servidor:

bash
Copiar cÃ³digo
npm run dev
O serviÃ§o ficarÃ¡ disponÃ­vel em:

arduino
Copiar cÃ³digo
http://localhost:4001
ğŸ“¡ Rotas da API
ğŸ” Health Check
bash
Copiar cÃ³digo
GET /api/health
Retorno:

json
Copiar cÃ³digo
{
  "status": "ok",
  "uptime": 8.22,
  "timestamp": "2025-12-09T18:00:00.000Z"
}
ğŸ§¾ Analisar Nota Fiscal
bash
Copiar cÃ³digo
POST /api/analisar-nota
Body (multipart/form-data):
csharp
Copiar cÃ³digo
file: <imagem ou PDF da nota>
Exemplo via Insomnia/Postman:

Tipo: POST

Body â†’ form-data

Campo file â†’ selecione o arquivo

ğŸ“¤ Exemplo de Resposta
json
Copiar cÃ³digo
{
  "estabelecimento": "HAPPY MART",
  "data": "10/07/2020",
  "cnpj": "98788822",
  "total": 8.18,
  "categoria": "Supermercado",
  "formaPagamento": "PAY FROM PRIMARY",
  "itens": [
    {
      "nome": "PEANUTS",
      "quantidade": 1,
      "valor": 2.46
    },
    {
      "nome": "TOMATOES",
      "quantidade": 1,
      "valor": 4.98
    }
  ]
}
ğŸ§  Como Funciona?
A imagem enviada Ã©:

Convertida para Base64

Enviada para o modelo GPT-4o-mini via image_url

O modelo extrai informaÃ§Ãµes estruturadas

Retorna um JSON validado por schema

ğŸ¯ Tudo isso sem necessidade de OCR tradicional!

ğŸ—ºï¸ Roadmap / PrÃ³ximos Passos
 Salvar notas em banco de dados (MongoDB ou SQLite)

 Dashboard de gastos mensais

 ClassificaÃ§Ã£o automÃ¡tica do tipo de compra

 Upload via frontend (Next.js)

 ValidaÃ§Ã£o de duplicidade de recibos

 ExportaÃ§Ã£o para Excel

 Deploy (Railway, Render, Vercel, AWS)

ğŸ“œ LicenÃ§a
MIT â€” livre para uso e modificaÃ§Ã£o.

ğŸ™‹ Autor
Desenvolvido por JosÃ© Lindembergue
Se quiser ver outros projetos:
https://github.com/Lindemberguee

yaml
Copiar cÃ³digo

---

# ğŸ‰ EstÃ¡ pronto!

Se quiser, posso:

âœ… gerar a **versÃ£o em inglÃªs**  
âœ… adicionar **badges (npm, node, status, stars)**  
âœ… colocar **prints do Insomnia**  
âœ… gerar **LICENSE**  
âœ… preparar para deploy no Railway / Render  

---

